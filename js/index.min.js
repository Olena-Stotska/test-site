(function (ElementProto) {
  if (typeof ElementProto.matches !== 'function') {
    ElementProto.matches = ElementProto.msMatchesSelector || ElementProto.mozMatchesSelector || ElementProto.webkitMatchesSelector || function matches(selector) {
      var element = this;
      var elements = (element.document || element.ownerDocument).querySelectorAll(selector);
      var index = 0;

      while (elements[index] && elements[index] !== element) {
        ++index;
      }

      return Boolean(elements[index]);
    };
  }

  if (typeof ElementProto.closest !== 'function') {
    ElementProto.closest = function closest(selector) {
      var element = this;

      while (element && element.nodeType === 1) {
        if (element.matches(selector)) {
          return element;
        }

        element = element.parentNode;
      }

      return null;
    };
  }
})(window.Element.prototype);
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||!function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],s=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},c=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(t,e)},l=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,s=n.length;s>i;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",""+this)}},u=l[n]=[],h=function(){return new l(this)};if(a[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",-1!==c(this,t)},u.add=function(){var t,e=arguments,n=0,i=e.length,s=!1;do t=e[n]+"",-1===c(this,t)&&(this.push(t),s=!0);while(++n<i);s&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,s=n.length,r=!1;do for(t=n[i]+"",e=c(this,t);-1!==e;)this.splice(e,1),r=!0,e=c(this,t);while(++i<s);r&&this._updateClassName()},u.toggle=function(t,e){t+="";var n=this.contains(t),i=n?e!==!0&&"remove":e!==!1&&"add";return i&&this[i](t),e===!0||e===!1?e:!n},u.toString=function(){return this.join(" ")},s.defineProperty){var f={get:h,enumerable:!0,configurable:!0};try{s.defineProperty(i,e,f)}catch(g){(void 0===g.number||-2146823252===g.number)&&(f.enumerable=!1,s.defineProperty(i,e,f))}}else s[n].__defineGetter__&&i.__defineGetter__(e,h)}}(self),function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;i>n;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}());
(function() {
  function isPassiveListenerSupported() {
    var isSupported = false;

    try {
      var options = Object.defineProperty({}, 'passive', {
        get: function() {
          isSupported = true;
        }
      });

      window.addEventListener('test', null, options);
    } catch(err) {}

    return isSupported;
  }

  function isTransitionSupported() {
    return typeof document.body.style.transition !== 'undefined';
  }

  var html = document.documentElement;

  if (isPassiveListenerSupported()) {
    html.classList.add('passive-listener');
  }

  if (isTransitionSupported()) {
    html.classList.add('transition');
  }
})();
(function() {
  var isTransitionSupported = document.documentElement.classList.contains('transition');

  document.addEventListener('click', function(event) {
    var toggler = event.target.closest('[data-toggle=modal]');
    var targetSelector = toggler ? toggler.getAttribute('data-target') : '';
    var target = targetSelector ? document.querySelector(targetSelector) : null;

    if (!toggler || !targetSelector || !target) {
      return;
    }

    showModal(target);
  }, false);

  document.addEventListener('click', function(event) {
    var toggler = event.target.closest('[data-toggle=dismiss]');
    var target = toggler ? toggler.closest('.modal') : null;

    if (!toggler || !target) {
      return;
    }

    hideModal(target);
  }, false);

  function showModal(modal) {
    modal.style.display = 'block';

    setTimeout(function() {
      modal.classList.add('in');
    }, 0);
  }

  function hideModal(modal) {
    modal.classList.remove('in');

    if (isTransitionSupported) {
      modal.addEventListener('transitionend', function detach() {
        modal.removeEventListener('transitionend', detach);
        modal.style.display = '';
      });
    } else {
      modal.style.display = '';
    }
  }
})();
(function() {
  var htmlRoot = document.documentElement;
  var header = document.getElementById('main-header');
  var btnMenu = document.getElementById('btn-menu');
  var menu = document.getElementById('main-menu');

  header.addEventListener('click', function(event) {
    var target = event.target.closest('button[name]');

    if (!target) {
      return
    }

    switch (target.name) {
      case 'showSearch':
        header.classList.add('show-search');
        header.classList.add('min-header');
        btnMenu.classList.add('active');
        header.querySelector('.search-box').focus();
      break;

      case 'showMenuOrCancel':
        if(header.classList.contains('show-search')) {
          header.classList.remove('show-search');
          addScrollingClassToHeader();
        } else {
          menu.classList.toggle('visible');
        }

        btnMenu.classList.toggle('active');
      break;
    }
  });

  window.addEventListener('load', function loading() {
    var loader = document.querySelector('#boot-loader');
    var removeLoader = function() {
      loader.parentNode.removeChild(loader);
    }

    loader.classList.add('fade-out');

    if (htmlRoot.classList.contains('transition')) {
      loader.addEventListener('transitionend', removeLoader);
    } else {
      removeLoader();
    }
  });

  var isScrolled = false;
  function addScrollingClassToHeader() {
    if (header.classList.contains('show-search')) {
      return;
    }

    if (window.pageYOffset <= 50) {
      isScrolled = false;
      header.classList.remove('min-header');
    } else if (!isScrolled) {
      isScrolled = true;
      header.classList.add('min-header');
    }
  }

  var scrollListenerOptions = htmlRoot.classList.contains('passive-listener') ? { passive: true } : false;
  window.addEventListener('scroll', addScrollingClassToHeader, scrollListenerOptions);
  window.addEventListener('touchmove', addScrollingClassToHeader, scrollListenerOptions);
})();
